<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Harrie Jonkman">
<meta name="dcterms.date" content="2025-04-30">
<meta name="description" content="Dangerour Learning. The South’s Long War on Black Literacy is de geschiedenis van zwarte geletterdheid in het Zuiden van Amerika. Het is de lange geschiedenis van de strijd rond leren en onderwijs en rond vrijheid en democratie. Het gaat over de eerste rebellie, over hoe het Zuiden z’n eigen weg koos en hoe de blanke en zwarte bevolking steeds weer tegenover staan. Dat wat er in Amerika in het onderwijs op dit moment gebeurt komt niet uit de lucht vallen. Dit boek leert je veel daarover.">

<title>Kennis is macht – DemOndBlog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-d1b12f2568ecbe55642fee6aa00bd082.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">DemOndBlog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">Over dit blog</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Kennis is macht</h1>
                  <div>
        <div class="description">
          <em>Dangerour Learning. The South’s Long War on Black Literacy</em> is de geschiedenis van zwarte geletterdheid in het Zuiden van Amerika. Het is de lange geschiedenis van de strijd rond leren en onderwijs en rond vrijheid en democratie. Het gaat over de eerste rebellie, over hoe het Zuiden z’n eigen weg koos en hoe de blanke en zwarte bevolking steeds weer tegenover staan. Dat wat er in Amerika in het onderwijs op dit moment gebeurt komt niet uit de lucht vallen. Dit boek leert je veel daarover.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Onderwijs</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Harrie Jonkman </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 30, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p><em>Ons wil leren, want we hebben te lang in het donker gezeten, en nu we in het licht zijn, willen ons leren</em><br>
- Een slaaf-moeder (19e eeuw)</p>
<p><br></p>
<p>Dereck W. Black is hoogleraar in het Zuiden van de Verenigde Staten (Universiteit van South Carolina) en werkt op de rechtenfaculteit. Hij schreef onlangs het boek * Dangerous Learning. The South’s Long War on Black Literacy* dat de geschiedenis beschrijft van de lange strijd rondom leren en onderwijs in de zuidelijke regio van de Verenigde Staten in de afgelopen twee eeuwen. Hij laat zien dat die geschiedenis er een is van geweld en onderdrukkig, van vallen en opstaan en van heel langzaam erop vooruitgaan, hoewel. Black’s boek gaat specifiek over de strijd rond zwarte geletterdheid en algemeen over de strijd rond vrijheid en democratie. In die lange oorlog is er voortdurende spanning waar mensen op allerlei niveaus steeds maar weer recht tegenover elkaar staan in hun kijk op leren en onderwis. Die strijd over het onderwijs speelde zich in het hele land af, maar vooral toch in de zuidelijke staten. Die strijd gaat in Amerika door tot op de dag van vandaag. Sterker, die strijd laait weer op. De huidige situatie is voor buitenstaanders moeilijk te begrijpen en al helemaal niet als je niet iets weet over wat eraan vooraf is gegaan. Dit boek leert je zoveel daarover. Wat vertelt Black ons hierover?</p>
<p><br></p>
<p>Het eerste deel van het boek gaat over de eerste zwarte revoltes die rond 1800 in Charleston (South-Carolina) beginnen. Daar wonen dan meer dan twee keer zoveel zwarte dan blanke mensen en die grote groep zwarten werkt vooral op de plantages van de blanken. De macht ligt volledig in handen van de blanken, die er moeite mee hebben die te controleren. Ze gebruiken daarbij veel geweld. Lezen en schrijven kunnen alleen de blanken. Dat willen ze graag zo houden omdat ze vermoeden dat het geschreven woord en gedeelde kennis de natuurlijke order in gevaar kan brengen en rebellie kan veroorzaken. Denmark Vesey behoort tot de kleine groep vrije zwarten die zichzelf heeft ontwikkeld en kennis heeft eigen maakt over politiek en slavernij, de Bijbel, Amerikaanse en Haïtiaanse Revoluties en burgerrechten. Begrijpen alleen is voor hem niet genoeg. Hij wil zijn kritische kracht gebruiken om de ongelijke maatschappelijke situatie aan de kaak te stellen en er strijd tegen voeren. Met zijn inzichten en kennis bereidt hij met anderen een opstand voor, die echter voortijdig wordt ontdekt. Ook Vesey wordt opgehangen. Dit verhaal maakt in Zuid-Carolina duidelijk waar kennis en het verspreiden en delen ervan toe kunnen leiden. Het onderwijzen van de zwarte bevolking wordt strafbaar gemaakt en er komen maatregelen die het uitwisselen van ideeën tussen zwarte groepen moeilijker maken. Deze staat bouwt een ideologisch defensief op. De noodzaak daarvan wordt nog meer gevoeld wanneer Walkers <em>Appeal to the Coloured Citizens of the World</em> uitkomt. De <em>Appeal</em> is een zwart vrijheidsmanifest uit Noord-Amerika en een morele analyse van slavernij, vrijheid en waardigheid. Volgens Walker hebben zware mensen het recht om geweld van blanken met geweld te beantwoorden. Hij daagt in zijn manifest de blanke hiërarchie uit en eist een plaats op voor ieder zwart individu binnen de Amerikaanse samenleving. Walker roept de zwarte bevolking op te leren en kennis te delen met anderen, zoals dat hoort bij burgerschap. Zijn manifest verschijnt in 1829, wordt in de jaren die erop volgen ook in het Zuiden verspreid en daar wordt het al snel verboden. Dan is er nog de geletterde slaaf Nat Turner die zich door God geroepen voelt om met een kleine groep zijn slaafheer en familie in koele bloede te vermoorden. Vesey is de vonk, Walker misschien wel de wind en Turner het vuur en tezamen onderstrepen deze verhalen de kracht van zwarte geletterdheid en laten ze zien dat er actie nodig is, vinden de blanken in het zuiden. De slaven bedreigen de blanke veiligheid, welvaart en stabiliteit. Terwijl in het noorden van het land abolitionisten opkomen voor de rechten van de slaven en de slavernij langzaamaan wordt afgebroken, komen ze in de zuidelijke staten op voor de rechten van de slavenhouders en krijgt onderwijsapartheid daar vorm. Er komen wetten tegen geletterdheid, religieuze bijeenkomsten van zwarte bevolkingsgroepen worden verboden, net zo goed als het kleine aantal zwarte scholen dat er is. In dit deel van Amerika is men het erover eens dat slavernij iets is waar staten zelf voor verantwoordelijk zijn en niet vanuit Washington mag worden afgedwongen. De strijd tussen abolitionisten en slavernij-hardliners, tussen het Noord en Zuid, wordt heviger. Rust bewaren is, zo beseft men in het Zuiden, niet het het goede antwoord om slavernij in stand te houden. Het is ook nodig om een propagandamachine op te zetten om de slavernij en de waarden die erbij horen te verdedigen. Daarover gaat het tweede deel van het boek. Er komen eigen tijdschriften en kranten en een bijpassend onderwijssysteem en zo kan de achterstand in ‘mentale cultuur’ ten opzichte van het Noorden worden ingehaald. Tegelijk wordt er in deze periode achteraf en in het geheim gewerkt aan zwarte geletterdheid. Kerken en missionarissen leren slaven de Bijbel lezen, zwarten leren zichzelf lezen en schrijven of er zijn mensen als Daniel Payne , Susie King Taylor en Frederique Douglas die opkomen voor het onderwijs ondanks alle gevaar. De kracht van geletterdheid, hoe die ideeën kan transformeren en gemeenschappen kan veranderen wordt duidelijk als de burgeroorlog tussen het Noorden en Zuiden uitbreekt.<br>
De zwarte bevolking eist intellectuele vrijheid op en er ontstaat een ware vrijheidsbeweging. Dit zorgt er na enige tijd voor dat het onderwijs ook in het Zuiden gaat bloeien en groeien, met name voor de zwarte bevolking. Groepen onderwijzers trekken uit het Noorden naar het Zuiden, ook omdat daar te veel studenten en te weinig docenten zijn. De zwarte bevolking kan nu in de openbaarheid leren, het verleden kunnen ze achter zich laten en nu kunnen ze leren iets anders te zijn dan slaaf. Als de oorlog definitief is afgelopen is wordt het onderwijssysteem in korte tijd groots en van bovenaf opgebouwd. Onderwijs wordt gezien als wapen en verdediging tegen slavernij. Dit is de tijd van de Zwarte Reconstructie waarin het aantal scholen, leerlingen en leerkrachten sterk wordt uitgebreid en er ook financieel flink op wordt gefinancierd, ook in zuidelijke staten. Deze tijd van reconstructie blijkt uiteindelijk van korte duur te zijn en in het Zuiden blijft men bevreesd voor de zwarte geletterdheid. Op allerlei manieren breekt het geweld weer uit. Opvallend zijn het grote aantal branden die er na de burgeroorlogen op zware scholen uitbreken, in totaal 631. De witte oppositie begint ook aan de schoolfinanciën te knabbelen. Kort na een korte Reconstructie-periode volgt in dit derde deel van het boek de Jim Crow-periode van drie kwarte eeuw waarin de zwarte bevolking opnieuw wordt buitengesloten, ze hun rechten verliezen en als tweede rang burgers worden gezien. Of zoals de gouverneur van Georgia zegt: “God maakte de negers en wij kunnen ze niet wit maken. We zijn op de verkeerde weg. We moeten terug.” En de gouverneur van Zuid-Carolina daaraan toevoegt: “De grootste fout die we als witte ras hebben gemaakt, was het onderwijzen van de vrije Neger.” Vanaf 1890 is er weer discriminatie in de wetgeving en segregatie en onderbetaling van zwart onderwijs. . Met de Brown v. Board of Education (1954) en de Burgerrechtenbeweging van de zestiger en zeventiger jaren wordt het onderwijs weer geplaatst in het centrum van de vrijheidsstrijd, maar ook deze tweede Reconstructie-periode is van korte duur.</p>
<p><br></p>
<p>Voor Black is het brengen van onderwijs naar het zuidelijk deel van het land het meest levendige en concrete symbool van democratische transformatie in het land. Toen er nog in het geheim geleerd werd en onderwijs werd gevolgd, was het nog om weerstand te bieden tegen slavernij, zorgde het voor mentale autonomie en hielp het zwarten om te vluchten. Toen de zwarte bevolking in de openbaarheid onderwijs kon volgen, konden ze het verleden achter zich laten en leren om iets anders te zijn dan slaaf. In de Burgeroorlog wordt ook heel duidelijk dat kennis macht is en dat een onderwezen en intelligent volk niet in slavernij kan worden gehouden. Stemmen alleen is niet genoeg om vrijheid en democratie te garanderen. Voor vrijheid en democratie is ook goed publiek en universeel onderwijs voor iedereen nodig want die kunnen niet gebouwd worden met slavernij-stenen. Het publieke en universele onderwijs wordt in de negentiende eeuw in Amerika opgebouwd. De weerstand ertegen is ook groot, zeker in het Zuiden waar dat publieke en universele onderwijs ook gezien wordt als een bedreiging voor de raciale en economische status van de blanke bevolking. In dit deel van het land neemt de ongelijkheid weer toe en in een staat als South Carolina (waar Dereck Black zelf werkt) wordt er alleen al meer dan twaalf keer zoveel geld gestoken in het blanke dan in het zwarte onderwijs. In januari 2025 wordt Donald Trump geïnstalleerd als president van de Verenigde Staten. Ook voor het onderwijs blijkt zijn presidentsschap grote consequenties te hebben. Het federale department wordt onttakeld, het onderwijs wordt geprivatiseerd, het hiërarchisch denken keert terug en de onderwijsinhoud wordt gecontroleerd. Vanaf de installatie krijgen het publieke en universele onderwijs in Amerika en de kritische boeken het zwaar te verduren. Er moet weer positief en patriotisch geschreven worden over de geschiedenis van land. Alles wat dat verleden kritisch benaderd, moet uit de handen van leerlingen en studenten blijven. De maatregelen blijken niet zomaar uit de lucht te vallen en de geschiedenis van de zwarte geletterdheid maakt hierover zoveel meer duidelijk. In dezelfde tijd dat Trump wordt geïnstalleerd verschijnt Dereck Black’s boek <em>Dangerous Learning. The South’s Long War on Black History.</em>, die de nieuwe maatregelen het nodige historisch perspectief geven. Veel van wat er gebeurd, is al eerder in het Zuiden gebeurd, beleidsmatig en inhoudelijk. De angst, de verdachtmakingen en de paranoia van tegenwoordig lijken heel erg op wat er voor en ook weer na de Burgeroorlog daar in het Zuiden gebeurde en zijn weer helemaal terug. Het mooie boek van Black boek beschrijft vooral de periode tot 1890 (Jim Crow-periode) heel goed. De tijd had meer aandacht verdient maar daar weten we meer van moet Black hebben gedacht. <em>Dangerous Learning</em> is natuurlijk zo’n boek dat totaal niet meer past in de Amerikaanse schoolbibliotheken van tegenwoordig en een soort studie waar ze zich op de universiteit niet meer mee bezig behoren te houden. Maar <em>Dangerous Learning</em> is oh zo inzichtelijk en leerzaam als je iets wilt weten over het belang van leren en onderwijs, de onderwijsstrijd en de strijd rondom vrijheid en democratie, ook als je niet in Amerika woont. <br></p>
<p><img src="Screenshot.png" class="img-fluid"></p>
<p><br></p>
<p>Black, D.W. (2025). <em>Dangerour Learning. The South’s Long War on Black Literacy</em>. New Haven/London: Yale University Press. 348 pagina’s.</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>