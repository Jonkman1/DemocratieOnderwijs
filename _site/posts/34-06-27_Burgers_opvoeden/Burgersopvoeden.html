<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Harrie Jonkman">
<meta name="dcterms.date" content="2025-06-27">
<meta name="description" content="Jongeren voorbereiden op en actief betrekken bij democratie vraagt maatschappelijke aandacht. Ouders kunnen daar een goede rol bij vervullen, schrijft Lindsey Cormack in haar nieuwe boek How to Raise a Citizen. (And why it’s up to you to do it). Ze laat zien hoe ouders dat kunnen doen en welke kennis daarbij nodig is. Het boek laat zien hoe we democratie van binnenuit kunnen verdedigen, een onderwerp waar tegenwoordig niet zo veel over wordt nagedacht.">

<title>Burgers opvoeden – DemOndBlog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-f93c2b1f3f0577f377aefa4848a86a36.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">DemOndBlog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">Over dit blog</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Burgers opvoeden</h1>
                  <div>
        <div class="description">
          Jongeren voorbereiden op en actief betrekken bij democratie vraagt maatschappelijke aandacht. Ouders kunnen daar een goede rol bij vervullen, schrijft Lindsey Cormack in haar nieuwe boek <em>How to Raise a Citizen. (And why it’s up to you to do it)</em>. Ze laat zien hoe ouders dat kunnen doen en welke kennis daarbij nodig is. Het boek laat zien hoe we democratie van binnenuit kunnen verdedigen, een onderwerp waar tegenwoordig niet zo veel over wordt nagedacht.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Onderwijs</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Harrie Jonkman </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 27, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<blockquote class="blockquote">
<p>Onze kinderen betrekken bij discussies over politiek gaat verder dan hen iets leren over de regering en democratische processen. Het gaat om het koesteren van hun kritische denkvaardigheden en vermogen om respectvolle en constructieve gesprekken te voeren, zelfs als de onderwerpen uitdagend zijn. - Lindsey Cormack</p>
</blockquote>
<p><br></p>
<p>Wanneer jongeren zo rond hun twintigste gaan studeren weten ze vaak niet hoe ze moeten stemmen, hebben ze de Constitutie niet gelezen, weten ze weinig over de politiek en ook niet hoe verschillende verantwoordelijkheden in het land zijn verdeeld. In Amerika zijn er betrekkelijk weinig gemeenschappelijke gewoontes ontwikkeld om jongeren voor te bereiden en actief te betrekken bij democratie. Het is vreemd dat hier niet veel over wordt gesproken in een tijd waarin het land politiek zo verdeeld is en woorden als politiek en overheid alleen al gevoelens van wanhoop, wantrouwen en woede oproepen. Dat is niet goed want met poltiek krijgt iedereen in het leven sowieso te maken, of we dat nu willen of niet. Daarom is het beter om te begrijpen hoe politiek werkt en wat er dan bij komt kijken. Op school wordt er aandacht aan besteed, maar daar wordt er steeds minder tijd voor genomen. Ouders zouden in deze situatie een goede rol kunnen spelen, alleen hoe doe je dat jongeren iets over politiek leren?<br>
Cormack heeft met <em>How to Raise a Citizen. (And why it’s up to you to do it)</em> een boek geschreven dat ouders hierbij een steun in de rug geeft. Het gaat Cormack daarbij niet om de vraag hoe ouders hun jongeren bij een bepaalde partij kunnen betrekken. Zij heeft een veel algemener doel voor ogen, namelijk hoe kunnen ouders hun kinderen opvoeden tot betrokken en goed geïnformeerde burgers. Zij wil ouders iets in handen geven waarmee hun kinderen vervolgens politiek beter leren begrijpen en ermee om kunnen gaan. In het gepolariseerde klimaat van tegenwoordig beschermen ouders hun kroost nogal voor dit onderwerp en houden ze hen ervan af, schrijft Cormack. Maar iedereen krijgt er mee te maken en hoort erover. Dan is het beter om in dat proces met hen mee te denken en hen iets aan te reiken ermee om te gaan. Want volgens Cormack is het goed om jongeren als burgers op te voeden en te leren hun eigen krachten te gebruiken en in te zetten voor de wereld waarin ze leven.</p>
<p><br></p>
<p>Cormack heeft haar <em>How to Raise a Citizen</em> in twee delen opgesplitst. Het eerste deel gaat over de crisis in de politieke samenleving van tegenwoordig, de oorzaken ervan, de consequenties en de rol die ouders in het proces van opvoeden tot burger kunnen spelen. Dat jongeren tegenwoordig zo weinig met politiek op hebben heeft volgens haar vooral te maken met het gebrek aan voorbereiding. Er wordt hen hierover te weinig onderwezen en er wordt ook te weinig met hen over politiek en overheid gesproken. Dat zorgt voor wantrouwen en politieke kwetsbaarheid terwijl goed geïnformeerd zijn toch de ruggegraat van een gezonde democratie is. Politiek zit ingewikkeld in elkaar en daarvan is Cormack zich bewust. Maar dat is niet het hele verhaal, er speelt meer mee. Zo weten we ook niet goed hoe we met jongeren over politiek moeten praten, wordt er vaak enkel negatief over politiek gesproken en besteedt het onderwijs al z’n tijd en aandacht aan studenten voorbereiden op het examen. Daarom is het belangrijk dat binnen dit klimaat ouders hun rol gaan spelen. Cormack weet dat lang niet alle ouders daar op dit moment iets mee doen. Eerder het tegendeel. Maar ouders hebben ook mogelijkheden die anderen niet hebben. Zij kunnen met hun kinderen over hun toekomst en die van anderen dromen, hun kinderen nieuwsgierig maken (ook voor politiek), met hen over politiek praten en laten zien welke vaardigheden ervoor nodig zijn (informatie verwerken, vragen stellen en kritisch denken). Dat komt die jonge generatie op allerlei manieren ten goede. Er met kinderen open over praten is voor die ouders zelf ook goed omdat zo hun eigen perspectief wordt bevraagd en ze goed blijven nadenken. Als ouders met kinderen over politiek praten is het goed om de eigen rol daarin te blijven zien, zo weinig mogelijk negatief te zijn en kinderen uit te dagen aanvullend onderzoek te doen over een onderwerp. Het gaat om de kwaliteit van de interactie tussen ouders en kinderen. Het is nodig deze gesprekken en activiteiten af te stemmen op de leeftijd van de kinderen (jonge kinderen van 5-9 jaar, vroege adolescenten van 10-14 jaar en tieners van 15-18 jaar). Op al die leeftijden gaat het om de mogelijkheden die kinderen krijgen om te leren, nieuwe dingen uit te proberen en nieuwe ideeën eigen te maken, om eigen standpunten te leren innemen en eigen interesses te vinden. En altijd weer gaat het om vertrouwen, openheid en nieuwsgierigheid. Over hoe ouders dat kunnen doen en waar ze dan aan moeten denken, geeft Cormack allerlei suggesties mee. Zelf vindt ze het in ieder geval belangrijk dat in de opvoeding negativiteit wordt voorkomen en dat er steeds in mogelijkheden wordt gedacht.<br>
Om tot handelen over te gaan is het nodig om bepaalde kennis te hebben over politiek en overheid . Waar het in het eerste deel van het boek om het proces ging, gaat dit deel over wat ouders en kinderen over politiek moeten weten. Allereest zijn er een aantal basisprincipes. Amerika is een democratische republiek; democratisch omdat het de wil van het volk serieus neemt en een republiek waarin enkele verantwoordelijken handelen in naam van de meerderheid. De democratie is gebaseerd op de betrokkenheid en participatie van alle burgers en niet omdat je van een bepaalde komaf bent of genoeg geld hebt. Een ander belangrijk basisprincipe van de moderne samenleving is verdeling van machten (wetgevend, uitvoerend en rechtelijk). De ene macht houdt de ander in de gaten en het systeem is zo opgebouwd dat er, als het goed gaat, allerlei controles en tegenwichten zijn om het geheel overeind te houden en ervoor te zorgen dat de politiek werkt. Onderdeel van het systeem is dat burgers vanaf een bepaalde leeftijd hun stem kunnen uitbrengen. Iedereen heeft dat recht maar dat moet je je wel registreren, weten hoe je moet stemmen en hoe jij je als burger erop kunt voorbereiden. Dat stemmen doe je voor de federale overheid, maar ook binnen de staat en de lokale omgeving waar je woont. Ook hier kunnen ouders hun kind de weg wijzen. Vervolgens is er ook de Constitutie, een kort document dat de principes en structuren van het Amerikaanse overheidssysteem uitdrukt. Het is in 1787 geschreven en een jaar later aangenomen en bestaat uit zeven artikelen (wetgevend, uitvoerend, juridisch, de staten, de amendementen, nationale suprematie en ratificatie). Die Constitutie is in de loop der tijd verschillende keren geamendeerd. In de Bill of Rights staan de eerste tien amendementen en gaan vooral over de burgerrechten. Ook daarna zijn er aanpassingen geweest, veelal het resultaat van maatschappelijke en sociale ontwikkelingen (in totaal kent de Constitutie 27 amendementen en Cormack behandelt elk kort tot en met de laatste uit 1992). Na de Consitutie gaat Cormack in op het Federalisme, wat gaat over hoe de macht van de overheid in de Verenigde Staten, die verdeeld is tussen de federale overheid, de staten/territoria en de lokale overheden. Sommige onderwerpen zijn in Amerika typische federale onderwerpen (zoals nationale veiligheid, defensie en buitenlandse zaken) waar andere zaken meer iets voor de staten of de lokale overheid zijn.</p>
<p><br></p>
<p>Cormack laat in <em>How to Raise a Citizen</em> zien dat het bij het opvoeden van burgers om meer gaat dan alleen maar stemmen en verkiezingen. Bij opvoeden van burgers gaat het ook om hoe je als burger aan de gemeenschap kunt deelnemen, hoe jij als burger aan die de gemeenschap kunt bijdragen en hoe je hebt op te stellen ten opzichte van anderen, instituten, organisaties en verschillende perpectieven. Nu het land zo politiek verdeeld is, is het des te belangrijker goed na te denken over de opvoeding van een nieuwe generatie burgers en we hen kunnen voorbereiden op hun verantwoordelijkheid. Opvoeden van jongeren kun je volgens Cormack ook zien als een nieuwe versie van de samenleving maken. Wat zij schrijft, geldt ook voor het opvoeden van burgers in ons land. Ook al hebben wij een andere geschiedenis en werkt de democratie anders, veel komt er toch overeen. Ook wij kennen de polarisatie en het wantrouwen richting democratie en overheid. En ook voor ons geldt dat het niet zo mag zijn dat jongeren onze rotzooi straks moeten opruimen. Beter is het dan met elkaar na te denken over hoe zij straks voor die wereld kunnen zorgen en hoe zij goed met elkaar kunnen omgaan. Daarom is het ook hier nodig dat jongeren vanaf jonge leeftijd leren hoe ze aan de wereld kunnen deelnemen en eraan kunnen bijdragen, dat ze competenties en vaardigheden leren dat te doen, dat ze er vertrouwen in krijgen om erover mee te praten, dat ze hun eigen mening erover kunnen geven, dat ze de tijd en ruimte krijgen om dingen uit te proberen, te leren en te begrijpen.<br>
Cormack heeft een taai boek geschreven waarin nogal wat herhalingen en opsommingen in zitten. Er is ook nogal wat op te merken. Want waarom is het er, bijvoorbeeld, niet iets te bedenken voor de jongste kinderen, die juist op hun jonge leeftijd leren met anderen om te gaan en eigen grenzen leren kennen (en dat heeft te maken met democratie)? Ouders een rol geven in opvoeden van ouders snap ik wel, maar de rol van het onderwijs en andere culturele instellingen op dit gebied blijft belangrijk. Cormack heeft het hier niet over verder. Tot slot gaat het hier alleen maar over Amerika. Zoals gezegd, zijn deze inzichten makkelijk vertalen naar mijn eigen land, daar gaat het niet over. Maar politiek is ook leren je te verhouden ten opzichte van andere landen en omgevingen en dat internationale aspect ontbreekt volledig. Maar dit boek van Cormack is ook weer goed om te lezen, juist vanwege z’n eenvoud, zeker nu die democratie bedreigt wordt en er zoveel gebeurt dat je de kern uit het oog verliest. Zeker in deze tijd van oorlog en opbouw van enorme defensiesystemen is het prettig te lezen dat er ook mensen zijn die op een andere manier nadenken over het verdedigen van de democratie. Vreemd dat daar zo weinig aandacht voor is. Wat goed dat Cormack wel de aandacht richt op onze kritische vaardigheden en vermogen om respectvol en constructief met elkaar om te gaan.</p>
<p><br></p>
<p><img src="Screenshot.png" class="img-fluid"></p>
<p><br></p>
<p>Cormack, L. (2025). <em>How to Raise a Citizen. (And why it’s up to you to do it)</em>Hoboken, New Yersey: John Wiley &amp; Sons. 304 pagina’s.</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>